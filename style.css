/* ============================
    Variables & Reset
============================ */
:root{
  --bg:#efefef;
  --fg:#0b0b0b;
  --muted:#6b6b6b;
  --frame:#cfcfcf;
  --accent:#0ea5e9;

  --radius:10px;
  --space:clamp(16px, 3vw, 48px);

  /* aides responsive */
  --frame-margin: 0.9rem;
  --frame-inset: 8px;
  --frame-border: 1px;

  --tap: clamp(36px, 4.2vw, 44px);
  --gap: clamp(8px, 1.2vw, 16px);
}
:root.dark{
  --bg:#0b0b0b;
  --fg:#ececec;
  --muted:#a3a3a3;
  --frame:#2a2a2a;
}

/* Default theme */
@media (prefers-color-scheme: dark){
  :root:not(.light){ color-scheme: dark; }
}

*{ box-sizing:border-box }
html{ height:100%; font-size: clamp(16px, 1.1vw + 8px, 20px); }
body{
  height:100%;
  margin:0;
  font-size:1rem;
  font-family:"Zen Kaku Gothic New", Inter, system-ui, Arial, sans-serif;
  background:var(--bg);
  color:var(--fg);
  line-height:1.5;
  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Transitions */
html:not(.no-anim) body,
html:not(.no-anim) .frame,
html:not(.no-anim) .cat-btn,
html:not(.no-anim) .theme-bottom-right,
html:not(.no-anim) .lang-left{
  transition: background-color .35s ease, color .35s ease, border-color .35s ease, box-shadow .35s ease;
}
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
}
html.no-anim, html.no-anim *{ transition:none !important; }

/* ============================
    Main Layout
============================ */
.frame{
  position:fixed;
  inset: max(var(--frame-inset), env(safe-area-inset-top))
         max(var(--frame-inset), env(safe-area-inset-right))
         max(var(--frame-inset), env(safe-area-inset-bottom))
         max(var(--frame-inset), env(safe-area-inset-left));
  margin:var(--frame-margin);
  border:1px solid var(--frame);
  border-radius:var(--radius);
  pointer-events:none;
}

.shell{
  max-width:min(1100px, 92vw);
  margin:0 auto;
  padding:clamp(1.4rem, 6vw, 3rem) clamp(1rem, 5vw, 2.4rem);
}

header{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:clamp(10px, 2vw, 16px);
}
header h1{
  margin:0;
  font-weight:500;
  letter-spacing:.4px;
  font-size:2.4rem;
}
.role{
  margin-top:0.2rem;
  font-size:0.75rem;
  color:var(--muted);
}
.lang a{
  margin-left:0.6rem;
  text-decoration:none;
  color:var(--fg);
  font-weight:600;
}
.lang a[aria-current="page"]{ text-decoration:underline; }

.section-layout{
  display:grid;
  grid-template-columns: minmax(220px, 260px) minmax(0, 1fr);
  align-items:start;
  gap: clamp(1rem, 4vw, 3rem);
  margin-top: 2rem;
}
@media (max-width: 900px){
  .section-layout{
    grid-template-columns: 1fr;
    gap: 1.2rem;
    margin-top: 1.2rem;
  }
}

.bio-only{ min-height:40vh; }
.bio{
  max-width: 62ch;
  margin-left:auto;
  font-size:0.8rem;
}
.bio p{ margin:1.2rem 0; }

/* ============================
    Language
============================ */
.lang-left{
  position:fixed;
  left:12px;
  top:35%;
  transform:translate(-50%, -50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  z-index:20;
  margin:0.75rem;
  padding:0.4rem 0.3rem;
  border:1px solid var(--frame);
  border-radius:6px;
  background:var(--bg);
  backdrop-filter:saturate(110%) blur(2px);
}

.lang-left a{
  display:grid;
  place-items:center;
  width:36px; height:36px;
  border-radius:8px;
}
.lang-left a img{
  width:19px; height:19px;
  display:block; object-fit:contain;
  border-radius:4px;
}
.lang-left a:hover img{ transform:translateY(-1px); filter:contrast(110%); }

@media (max-width:600px){
  .lang-left{
    left:auto; right:auto;
    top:auto; bottom: max(12px, env(safe-area-inset-bottom));
    transform:none;
    flex-direction:row;
    gap:8px;
    margin:0;
    padding:0.3rem 0.4rem;
    border-radius:999px;
  }
}

/* ============================
    Toggle Light/Dark
============================ */
.theme-bottom-right{
  position:fixed;
  right:10px;
  bottom:3%;
  transform:translate(50%, 50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
  z-index:20;
  margin:10% 0.75rem;
  padding:0.4rem 0.5rem;
  border:1px solid var(--frame);
  border-radius:8px;
  background:var(--bg);
  backdrop-filter:saturate(110%) blur(2px);
}

.toggle-item{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  cursor:pointer;
  -webkit-tap-highlight-color:transparent;
}

.theme-bottom-right .swatch{
  width:16px; height:16px;
  border:1px solid var(--frame);
  background:var(--bg);
  border-radius:3px;
  transition:background .2s ease, border-color .2s ease;
}
.theme-bottom-right .swatch.active{ background:var(--fg); }

.theme-bottom-right .label{
  writing-mode:vertical-rl;
  font-size:0.55rem;
  color:var(--muted);
  letter-spacing:.12em;
  user-select:none;
  transition:color .2s ease;
}
.toggle-item:hover .label{ color:var(--fg); }

@media (max-width:600px){
  .theme-bottom-right{
    right: max(12px, env(safe-area-inset-right));
    bottom: max(12px, env(safe-area-inset-bottom));
    transform:none;
    margin:0;
    padding:0.4rem 0.5rem;
    flex-direction:row;
    gap:12px;
    border-radius:999px;
  }
  .toggle-item{
    flex-direction:row;
    gap:8px;
  }
  .theme-bottom-right .label{
    writing-mode:horizontal-tb;
    font-size:0.6rem;
    letter-spacing:.02em;
  }
}

/* ============================
    Cat√©gories
============================ */
.categories{
  display:flex;
  flex-direction:column;
  align-items:stretch;
  gap: clamp(0.5rem, 1.2vw, 0.8rem);
  margin: 0;
  width:100%;
  max-width:260px;
}
.cat-btn{
  border:1px solid var(--frame);
  background:transparent;
  color:var(--fg);
  padding: clamp(0.55rem, 1.2vw, 0.8rem) clamp(0.7rem, 1.6vw, 1rem);
  border-radius: 0.8rem;
  font-size: 0.8rem;
  letter-spacing:.02em;
  cursor:pointer;
  user-select:none;
  width:100%;
  min-height: var(--tap);
  text-align:center;
  transition: transform .12s ease, background-color .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.cat-btn:hover{ transform:translateY(-1px); }
.cat-btn:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}
.cat-btn.active{
  background:var(--accent);
  color:#fff;
  border-color:transparent;
  box-shadow:0 0 0 2px color-mix(in oklab, var(--accent) 55%, transparent);
}

/* ============================
   @ Giremu
============================ */
.yey{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom: calc(
    var(--frame-margin) +
    max(var(--frame-inset), env(safe-area-inset-bottom)) +
    var(--frame-border) +
    0.25rem
  );
  font-size:0.7rem;
  color:var(--muted);
  letter-spacing:.12em;
  z-index:10;
}

/* ============================
    Responsive (Oskour...)
============================ */
@media (max-width:1100px){
  .bio{ max-width:58ch; }
}

@media (max-width:900px){
  header{ align-items:flex-start; gap:10px; }
  header h1{ font-size:1.8rem; }
  .role{ font-size:0.7rem; }
  .bio{ max-width:100%; margin-left:0;}
  .section-layout {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: 1.5rem;
    margin-top: 1.5rem;
  }

  .categories {
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 260px;
  }

  .cat-btn {
    width: 100%;
    text-align: center;
  }

  .bio-only, .bio {
    text-align: center;
    margin: 0 auto;
    max-width: 90%;

  }
}

@media (max-width:600px){
  header h1{ font-size:1.6rem}
  .role{ font-size:0.6rem}
  .shell{ padding:clamp(1rem, 5vw, 2rem) clamp(0.8rem, 4vw, 1.6rem)}
  .frame{ margin:0.4rem; border-radius:8px}
  .yey{ font-size:0.65rem}
  .lang-left{
    position: fixed;
    left: calc(var(--frame-margin) + max(var(--frame-inset), env(safe-area-inset-left)));
    bottom: calc(var(--frame-margin) + max(var(--frame-inset), env(safe-area-inset-bottom)));
    top: auto; right: auto;
    transform: none;
    flex-direction: row;
    align-items: center;
    gap: clamp(6px, 2.8vw, 12px);
    margin: 0;
    padding: 0.35rem 0.6rem;
    border-radius: 15px;
    z-index: 30;
    background: var(--bg);
    border: 1px solid var(--frame);
    backdrop-filter: saturate(110%) blur(2px)
  }
  .lang-left a{
    width: clamp(36px, 8vw, 44px);
    height: clamp(36px, 8vw, 44px);
    border-radius: 12px
  }
  .lang-left a img{
    width: 60%; height: 60%
  }

  .theme-bottom-right{
    position: fixed;
    right: calc(var(--frame-margin) + max(var(--frame-inset), env(safe-area-inset-right)));
    bottom: calc(var(--frame-margin) + max(var(--frame-inset), env(safe-area-inset-bottom)));
    top: auto;
    transform: none;
    flex-direction: row;
    align-items: center;
    gap: clamp(8px, 3vw, 12px);
    margin: 0;
    padding: 0.4rem 0.6rem;
    border-radius: 15px;
    z-index: 30;
    background: var(--bg);
    border: 1px solid var(--frame);
    backdrop-filter: saturate(110%) blur(2px)
  }
  .theme-bottom-right .label{
    writing-mode: horizontal-tb;
    font-size: 0.6rem;
    letter-spacing: .02em
  }

  .yey{
    bottom: calc(
      var(--frame-margin)
      + max(var(--frame-inset), env(safe-area-inset-bottom))
      + 3.2rem
      );
    text-align: center;
    width: 100%
  }
}

@media (min-width:1200px){
  .shell{ padding:3rem 2.4rem}
  .bio{ max-width:48ch}
}
